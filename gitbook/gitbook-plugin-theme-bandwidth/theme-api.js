require(["gitbook","jquery"],function(n,e){function t(){return"btn-"+v++}function a(n,e,t,a){var i=n.children(e).length;0>t&&(t=Math.max(0,i+1+t)),n.append(a),i>t&&n.children(e).eq(t).before(n.children(e).last())}function i(n){n.preventDefault()}function o(n){return n=e.extend({label:"",icon:"",text:"",position:"left",className:"",onClick:i,dropdown:null,index:null,id:t()},n||{}),m.push(n),s(n),n.id}function s(n){var t,i=e(".api-code-top"),o=e("<a>",{"class":"btn",text:n.text?" "+n.text:"","aria-label":n.label,href:""});o.click(n.onClick),n.icon&&e("<i>",{"class":n.icon}).prependTo(o),o.addClass(n.className),t=o,t.addClass("js-langbar-action"),a(i,".btn",n.index,t)}function c(){e(".js-langbar-action").remove(),m.forEach(s)}function l(n){m=e.grep(m,function(e){return-1==n.indexOf(e.id)}),c()}function r(e){f=n.storage.get("themeApi",{split:e.split,currentLang:null})}function h(){n.storage.set("themeApi",f),d()}function d(){e(".book").toggleClass("two-columns",f.split),u=e(".api-method-sample"),u.each(function(){var n=!(e(this).data("lang")==f.currentLang);e(this).toggleClass("hidden",n)})}function g(){l(p),p=[],u=e(".api-method-sample");var n=[],t=!1;u.each(function(){var a,i,o=!1,s=e(this).data("lang"),c=e(this).data("name");s==f.currentLang&&(t=!0,o=!0),a=e.grep(n,function(n){return n.name==c}),i=!!a.length,i||n.push({name:c,lang:s,"default":o})});var a=0;e.each(n,function(i,s){var c,l,r=s["default"]||!t&&i==n.length-1;l=0===a?"lang-switcher first-code-lang "+(r?" active ":""):a===n.length-1?"lang-switcher last-code-lang "+(r?" active ":""):"lang-switcher"+(r?" active ":""),c=o({text:s.name,position:"left",className:l,index:a,onClick:function(n){f.currentLang=s.lang,h(),e(".btn.lang-switcher.active").removeClass("active"),e(n.currentTarget).addClass("active")}}),p.push(c),a+=1,r&&(f.currentLang=s.lang)})}var u,f,p=[],b=[{config:"light",text:"Light",id:0},{config:"dark",text:"Dark",id:3}],m=[],v=0;n.events.bind("start",function(e,t){var a=t["theme-bandwidth"];n.fontsettings.setThemes(b),n.fontsettings.setTheme(a.theme),r(a)}),n.events.on("page.change",function(){g(),d(),"shown"!=localStorage.getItem("popState")&&(e("#banner").show(),e(".head").has("#banner").siblings(".book-body, .book-summary").css("height","calc(100% - 120px)"),e(".head").has("#banner").siblings().children().find(".book-header").css("top","120px"),localStorage.setItem("popState","shown")),e("#bannerClose").click(function(n){e(".head").has("#banner").siblings(".book-body, .book-summary").css("height","calc(100% - 70px)"),e(".head").has("#banner").siblings().children().find(".book-header").css("top","70px"),e("#banner").hide()})}),n.events.on("comment.toggled",function(e,t,a){if(t.parents(".api-method-definition").length){var i=n.state.$book.find(".page-wrapper");i.toggleClass("comments-open-from-definition",a&&f.split)}})});
